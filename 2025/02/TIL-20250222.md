# 해시 테이블의 개념과 충돌 해결 방법을 설명해주세요.


## 해싱이란??

프로그래밍에서 해싱이란? 어떤 특정 값을 받아서 고정된 길이의 새로운 값을 도출해 주는 것이다. 이때 새로운 값을 ***해쉬 값*** 이라고 하며, 이러한 기능을 하는 함수를 ***해쉬 함수*** 라고 한다.

그리고 ***해쉬 함수***를 이용해 자료를 저장하는 자료구조를 바로 ***해쉬 테이블*** 이라고 한다.

## 해쉬 테이블의 개념

해쉬 테이블은 키-값(Key-Value) 쌍을 저장하는 자료 구조로, 숞내부적으로 해시 함수(Hash Function)를 사용하여 데이터를 저장합니다. key나 value에 NULL 값을 허용하지 않고, 데이터가 많아지면 충돌이 발생할 수 있습니다.

![Image](https://github.com/user-attachments/assets/739b4365-4cba-4895-9b1d-c04ac67a70d8)

위 그림에서 James는 해쉬 함수를 거쳐 04라는 인덱스를 부여받게 되고, 인덱스 04에 값(754-231-5341)이 저장된다.

장점으로는 삽입과 삭제, 탐색을 하는데에 시간 복잡도 `O(1)`의 시간 복잡도를 갖는다.
> 굳이 모든 자료를 순회하지 않아도 해쉬 함수를 거쳐서 해당 값의 주솟값을 알 수 있으므로..

다만, 우선 순서가 있는 자료를 구현할 때는 적합하지 않다.

***-> iOS 에서는 Dictionary 타입이 해시 테이블의 대표적인 예시입니다.***

## 해쉬 함수

해쉬 함수는 해싱을 수행하는 함수.

보통 직접 구현하지 않고, 공개되어 있는 해쉬 함수를 쓴다. 대표적으로 *SHA*, *MD5*가 있습니다.

당연히 멱등성을 보장해야 한다.

> 멱등성 - 어떤 동일한 값을 몇 번을 넣어도 항상 동일한 값이 나와야 함

## 해시 충돌 문제

해시 충돌은 서로 다른 키가 같은 해시 값(인덱스)을 가질 떄 발생합니다. 즉, 두 개 이상의 데이터가 동일한 위치에 저장되려는 상황이 생길 수 있습니다.

![Image](https://github.com/user-attachments/assets/ba101e04-7fc1-4054-870b-e28efa8ec00f)

인덱스 152에 John Smith와 Sandra Dee라는 키가 같은 인덱스를 가지고 있다.
충돌이 없이 정말 완벽하게 인덱스가 분배되는 해쉬함수는 존재하지 않는다.

그래서 충돌에 대비해야 하는데, 대표적으로 2가지가 있다.

## 충돌 해시 해결 방법

충돌을 해결하는 대표적인 방법 2가지가 있습니다.

### 1. 클로즈 어드레싱 방식


#### 체이닝
해시 테이블 자체는 포인터 배열로 만들고, 같은 인덱스에 해당하는 데이터들을 체인형식(Linked List)으로 만들어 연결한다.

- 삽입과 삭제가 용이하지만, 검색 시 속도가 느림

> Swift의 Dictionary는 내부적으로 체이닝 방식을 사용하여 충돌을 해결합니다.

![Image](https://github.com/user-attachments/assets/86d296bb-7459-4105-a65f-712707a8b49d)

Sandra Dee는 인덱스 152의 John Smith 다음에 값을 저장한다.


### 2. 오픈 어드레싱 방식
충돌이 발생하면 다른 빈 슬롯을 찾아 저장하는 방식입니다.

![Image](https://github.com/user-attachments/assets/eacdc51e-717b-4e94-8e5b-efe7d06c17b9)

Sandra Dee값은 비어있는 인덱스 값인 153으로 정한다.

비어있는 자리를 탐색하는 것을 탐사라고 하는데, 선형 탐사, 제곱 탐사, 이중 해싱, 재 해싱이 있다.

클러스터링 자주 일어나는 순서

> 클러스터링
> 특정 영역에 데이터가 몰리는 현상

선형 탐사 > 제곱 탐사 > 이중 해싱

#### 선형 탐사
충돌 발생 시 옆자리가 비어있는지 살펴보고, 비어있을 경우 그 자리에 대신 저장하는 방식

- 계산이 단순하지만, 검색에 시간이 많이 소요되고, 테이블 내에 데이터들이 일정한 키값으로 모이는 현상 발생

#### 제곱 탐사
선형 조사법이 n칸 옆을 검사한다면, 이차 조사법은 n^2 칸 옆을 검사

- 선형 조사의 일정한 키값으로 모이는 현상을 줄이지만, 모든 공간을 검사하지 않음

#### 이중 해시
충돌이 발생하면 두 번째 해시 함수를 사용하여 해시값을 가지도록 함
