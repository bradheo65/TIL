# TIL 20231106

ZStack 활용

SwiftUI의 ZStack을 이용한 화면을 구현해 보았다.
<img width="377" alt="스크린샷 2023-11-06 오후 10 39 42" src="https://github.com/bradheo65/TIL/assets/45350356/eb3a73af-5211-462c-a09d-2cdbf8f865a0">

위의 사진을 보면 파일의 용량을 ProgressView로 표현해 보았는데, 지원하는 라이브러리나, 오픈소스가 없는 것 같아 직접 만들어 보았다.

View 스택은 맨 밑의 배경을 담당하는 View 1개, 그리고 각각의 용량을 나타내는 View 하나씩 해서 총 6개의 View를 ZStack으로 쌓았다.

만드는 과정에 문제점이 있었는데, 해당 View가 겹치기 떄문에, View를 쌓는 과정에서 value 값을 어떻게 넣어야 되고, 해당 value가 순서대로 보여지게 끔 되어야 했다.

## 문제
1. View 겹침현상 -> ZStack이기에 당연 하지만 value값 넣을 시 값이 적다면 안보임.
2. 순서대로 보여줘여함

문제1을 해결하기 위해 제일 큰 값부터 구성을 하게 되면 위의 사진처럼 보이지만, 각각의 타입별 value의 순서가 보장되지 않았다.

예를 들어, 텍스트, 비디오, 사진 이러한 순서대로 되어야하지만, 큰 값 기준으로 비디오, 사진, 텍스트 이렇게 변경이 되는 것이다. 

그래서 문제2를 해결하기 위해 value에 이전 값을 더하고 보여주었다. 
-> 텍스트: 0.2, 비디오: 0.3, 사진: 0.25 라면
텍스트: 0.2, 비디오: 0.5, 사진: 0.75가 되는 것이다.

3. 이제 value값은 정해져서 view를 보았지만 “사진”에 해당하는 progress만 보여지는 현상이 나왔다.

왜냐하면 마지막 value가 가장크기 떄문이다.

이를 해결하기 위해 ZStack의 `.zIndex` 라는 것을 각각 부여해주었다. zIndex는 ZStack의 맨위에 쌓이는 View의 우선순위를 정해줄 수 있다.

그래서 텍스트: 1, 비디오: 0.9, 사진: 0.8로 해주니, 위의 사진처럼 나오게 되었다.
